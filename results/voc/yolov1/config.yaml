data_params:
  transforms_test:
    augment_operators:
    - mode: customize
      name: CVNormalizer
      scale:
      - 1
      - 1
      - 1
      shift: &id001 !!python/tuple
      - 123
      - 117
      - 104
    - name: CVResize
      size: &id002 !!python/tuple
      - 448
      - 448
    name: SequentialAugment
  transforms_train:
    augment_operators:
    - name: CVRandomFliplr
      prob: 0.5
    - name: CVRandomScale
      prob: 0.5
      scale_height: false
      scale_range:
      - 0.8
      - 1.2
      scale_same: false
      scale_width: true
    - kernel_size: !!python/tuple
      - 5
      - 5
      name: CVRandomGaussianBlur
      prob: 0.5
    - brightness_factor:
      - 0.5
      - 1.5
      name: CVRandomBrightness
      prob: 0.5
    - hue_factor:
      - 0.5
      - 1.5
      name: CVRandomHue
      prob: 0.5
    - name: CVRandomSaturation
      prob: 0.5
      saturation_factor:
      - 0.5
      - 1.5
    - name: CVRandomShift
      prob: 0.5
      shift_limit: 0.2
    - crop_ratio: 0.6
      name: CVRandomCrop
      prob: 0.5
    - mode: customize
      name: CVNormalizer
      scale:
      - 1
      - 1
      - 1
      shift: *id001
    - name: CVResize
      size: *id002
    name: SequentialAugment
dataset_params:
  image_type: float
  keep_difficult: false
  name: voc
  root_path: /data1/home/panxc/wsis/data/voc
  test_sets:
  - val
  test_years:
  - '2012'
  train_sets:
  - train
  train_years:
  - '2012'
device: cuda
model_params:
  loss_params:
    lambda_coord: 5
    lambda_noobj: 0.5
    lambda_obj: 1
    name: YOLOv1Losses
  metric_params:
    name: YOLOv1Metrics
  name: YOLODetection
  net_params:
    backbone:
      backbone_name: resnet50
      input_dim: 3
      name: resnet_backbone
      pretrained: imagenet
      return_stages: 1
    head:
      in_channels: 256
      name: Yolov1Head
      num_boxes: 2
      num_classes: 20
      prior: 0.5
    name: YOLOv1
    neck:
      expansion: 1
      in_channels: 2048
      name: BottlenetNeck
      out_channels: 256
      stride: 1
    stride: 32
save_params:
  dir_save: results/voc
  dir_save_root: results
  experiment_name: yolov1
train_params:
  batch_size: 24
  clipnorm: null
  epoch_per_save: 1
  epoch_save_start: 10
  epochs: 50
  lr: 0.001
  lr_gamma: 0.1
  lr_milestones:
  - 30
  - 40
  lr_scheduler_metric: false
  lr_scheduler_mode: epoch
  momentum: 0.9
  no_bias_decay: null
  optimizer: SGD
  print_freq: 100
  save_checkpoints:
  - mode: all
    name: save_all
  start_epoch: 0
  sub_epoch: 1
  warmup_epochs: 0
  weight_decay: 0.0005
workers: 4
